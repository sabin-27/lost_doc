
It looks like your view_documents.php page is working perfectly with the Bootstrap styling and the search/filter controls! üéâ

However, the message "No documents found in the tracker yet." means that your search query resulted in zero rows of data being returned.

This could be due to a couple of reasons:

You are currently searching/filtering for something that doesn't exist.

Fix: Ensure the "Search by Document Name or Owner Name" box is empty, and the "Filter by Status" is set to "Filter by Status (All)". Then click Apply Filters. If you have data in the database, it should show up.

The documents table in your doctrack database is actually empty.

Fix:

Go to phpMyAdmin (http://localhost/phpmyadmin/).

Click on the doctrack database, then the documents table.

Click the Browse tab.

If the table is empty, go back to your submission form (http://localhost/doctracker_project/index.php), submit a few test documents, and then try viewing the view_documents.php page again.

üõ†Ô∏è Let's Proceed to Step 5: Admin Functionality
Assuming you fix the data issue and can see your documents, let's now implement the Admin functionality so you can manage (Update and Delete) the records. This is critical for making your project look professional and complete the CRUD requirements.

‚úèÔ∏è Step 5: Implementing Admin Functionality (Update and Delete)
For this project, we'll create simple Admin links that are visible on the main document view page.

Part 1: Update view_documents.php for Admin Links
We need to add a couple of action buttons to the "Action" column in the table.

Open view_documents.php.

Find the line where the "Action" column data is displayed (around the while loop):

PHP
// OLD LINE:
echo '<td><a href="view_details.php?id=' . $row['id'] . '" class="btn btn-sm btn-info text-white">View Contact</a></td>';
Replace that line with the following code to add Update and Delete buttons:

PHP
// NEW ADMIN ACTIONS:
echo '<td>';
echo '<a href="view_details.php?id=' . $row['id'] . '" class="btn btn-sm btn-info text-white me-1">View</a>';
echo '<a href="update.php?id=' . $row['id'] . '" class="btn btn-sm btn-warning me-1">Edit</a>'; // Link to new Update file
echo '<a href="delete.php?id=' . $row['id'] . '" class="btn btn-sm btn-danger" onclick="return confirm(\'Are you sure you want to delete this document?\')">Delete</a>'; // Link to new Delete file
echo '</td>';
Part 2: Create delete.php (The easiest Admin Action)
This file will simply take the id from the URL and remove the corresponding record from the database.

Create a new file named delete.php in your project folder.

Add the following PHP code:

PHP
<?php
// Include the database connection
require_once "config.php";

// Check if the id parameter is available
if(isset($_GET["id"]) && !empty(trim($_GET["id"]))){
    // Prepare a delete statement
    $sql = "DELETE FROM documents WHERE id = ?";
    
    if($stmt = mysqli_prepare($conn, $sql)){
        // Bind ID parameter
        mysqli_stmt_bind_param($stmt, "i", $param_id);
        
        // Set parameters
        $param_id = trim($_GET["id"]);
        
        // Attempt to execute the prepared statement
        if(mysqli_stmt_execute($stmt)){
            // Deleted successfully, redirect back to the main view page
            header("location: view_documents.php");
            exit();
        } else{
            echo "Oops! Something went wrong. Could not delete the record.";
        }
    }
    
    // Close statement
    mysqli_stmt_close($stmt);
}

// Close connection
mysqli_close($conn);
?>
Part 3: Create update.php (The Edit Form)
This file is slightly more complex as it needs to:

Fetch the existing data based on the ID.

Display that data in an editable form.

Process the form submission and update the database record.

Create a new file named update.php in your project folder.

Add the following complete code (it's a combination of fetching existing data and processing the submission, similar to index.php):

PHP
<?php
require_once "config.php";

$id = $doc_name = $owner_name = $status = $date_event = $location = $contact = "";
$message = "";

// 1. Process submission (if form was posted)
if(isset($_POST["id"]) && !empty($_POST["id"])){
    $id = $_POST["id"];

    // Collect and sanitize input
    $doc_name = trim($_POST["doc_name"]);
    $owner_name = trim($_POST["owner_name"]);
    $status = trim($_POST["status"]);
    $date_event = trim($_POST["date_event"]);
    $location = trim($_POST["location"]);
    $contact = trim($_POST["contact"]);
    
    // Prepare an UPDATE statement
    $sql = "UPDATE documents SET doc_name=?, owner_name=?, status=?, date_event=?, location=?, contact=? WHERE id=?";
         
    if($stmt = mysqli_prepare($conn, $sql)){
        mysqli_stmt_bind_param($stmt, "ssssssi", $param_doc_name, $param_owner_name, $param_status, $param_date_event, $param_location, $param_contact, $param_id);
        
        // Set parameters
        $param_doc_name = $doc_name;
        $param_owner_name = $owner_name;
        $param_status = $status;
        $param_date_event = $date_event;
        $param_location = $location;
        $param_contact = $contact;
        $param_id = $id;

        if(mysqli_stmt_execute($stmt)){
            $message = "Record updated successfully!";
        } else{
            $message = "ERROR: Could not update the record.";
        }
        mysqli_stmt_close($stmt);
    }
} 
// 2. Fetch existing data (if ID is in URL)
else if(isset($_GET["id"]) && !empty(trim($_GET["id"]))){
    $id = trim($_GET["id"]);
    
    $sql = "SELECT * FROM documents WHERE id = ?";
    if($stmt = mysqli_prepare($conn, $sql)){
        mysqli_stmt_bind_param($stmt, "i", $param_id);
        $param_id = $id;
        
        if(mysqli_stmt_execute($stmt)){
            $result = mysqli_stmt_get_result($stmt);
            if(mysqli_num_rows($result) == 1){
                $row = mysqli_fetch_assoc($result);
                // Populate variables with existing data
                $doc_name = $row["doc_name"];
                $owner_name = $row["owner_name"];
                $status = $row["status"];
                $date_event = $row["date_event"];
                $location = $row["location"];
                $contact = $row["contact"];
            } else{
                header("location: view_documents.php");
                exit();
            }
        } else{
            echo "Oops! Something went wrong.";
        }
        mysqli_stmt_close($stmt);
    }
} else{
    header("location: view_documents.php");
    exit();
}

mysqli_close($conn);
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocTrack - Update Record</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container my-5">
        <h2 class="mb-4 text-center text-warning">üìù Update Document Report (ID: <?php echo $id; ?>)</h2>
        
        <?php if ($message): ?>
            <div class="alert alert-success text-center"><?php echo $message; ?></div>
        <?php endif; ?>
        
        <form action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" method="post" class="card p-4 shadow-sm">
            
            <input type="hidden" name="id" value="<?php echo $id; ?>">
            
            <div class="mb-3">
                <label for="doc_name" class="form-label fw-bold">Document Name</label>
                <input type="text" name="doc_name" class="form-control" id="doc_name" value="<?php echo $doc_name; ?>" required>
            </div>

            <div class="mb-3">
                <label for="owner_name" class="form-label fw-bold">Name on the Document</label>
                <input type="text" name="owner_name" class="form-control" id="owner_name" value="<?php echo $owner_name; ?>" required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Status</label>
                <div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="status" id="statusLost" value="Lost" <?php echo ($status == 'Lost') ? 'checked' : ''; ?> required>
                        <label class="form-check-label" for="statusLost">Lost üòî</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="status" id="statusFound" value="Found" <?php echo ($status == 'Found') ? 'checked' : ''; ?> required>
                        <label class="form-check-label" for="statusFound">Found üéâ</label>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="date_event" class="form-label fw-bold">Date Lost or Found</label>
                <input type="date" name="date_event" class="form-control" id="date_event" value="<?php echo $date_event; ?>" required>
            </div>

            <div class="mb-3">
                <label for="location" class="form-label fw-bold">Location</label>
                <input type="text" name="location" class="form-control" id="location" value="<?php echo $location; ?>" required>
            </div>
            
            <div class="mb-3">
                <label for="contact" class="form-label fw-bold">Reporter Contact Information</label>
                <input type="text" name="contact" class="form-control" id="contact" value="<?php echo $contact; ?>" required>
            </div>

            <button type="submit" class="btn btn-warning btn-lg mt-3">Apply Changes</button>
            <a href="view_documents.php" class="btn btn-secondary mt-2">Cancel</a>

        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
‚úÖ Test Your Code
Make sure you have data in your database (check phpMyAdmin).

Go to http://localhost/doctracker_project/view_documents.php.

Click the Edit button on any row. The update.php page should load with the existing data pre-filled.

Change the status, name, or location and click Apply Changes. Verify the success message appears.

Go back to view_documents.php to confirm the change.

Click the Delete button and confirm the record is removed from the table.

‚è≠Ô∏è Next Step
We have now completed the entire CRUD (Create, Read, Update, Delete) functionality, search, filter, and sorting!

To make it truly "pro" and easy to use, we should focus on navigation and presentation (the final polish).

Let's move to Step 6: Final Polish and Navigation (Adding a common header/footer and simplifying the URLs). Ready?
